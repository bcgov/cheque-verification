# replicaCount is ignored when autoscaling is enabled
replicaCount: 2

image:
  repository: ghcr.io/bcgov/cheque-verification-backend
  tag: dev
  pullPolicy: Always

service:
  type: ClusterIP
  port: 80
  targetPort: 3000

# Resource limits - aligned with Openshift template
resources:
  requests:
    memory: "75Mi"
    cpu: "50m"
  limits:
    memory: "256Mi"
    cpu: "100m"

# Horizontal Pod Autoscaler configuration
autoscaling:
  enabled: true
  minReplicas: 2
  maxReplicas: 3
  # Scale up when CPU usage exceeds 80%
  targetCPUUtilizationPercentage: 80

# Pod Disruption Budget - ensures availability during cluster maintenance
podDisruptionBudget:
  enabled: true
  # Always keep at least 1 pod running during voluntary disruptions
  minAvailable: 1

nodeSelector: {}

tolerations: []

affinity: {}
