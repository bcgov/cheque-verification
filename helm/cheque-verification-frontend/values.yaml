replicaCount: 1

image:
  repository: ghcr.io/bcgov/cheque-verification-frontend
  tag: main
  pullPolicy: Always

service:
  enabled: true
  type: ClusterIP
  ports:
    - name: http
      port: 80
      targetPort: 3000
      protocol: TCP

# Route configuration
route:
  host: "" # Leave empty for auto-generated hostname, or specify custom hostname
  annotations:
    # Load balancing strategy (distributes traffic evenly)
    haproxy.router.openshift.io/balance: "roundrobin"
    # Enable HAProxy rate limiting
    haproxy.router.openshift.io/rate-limit-connections: "true"
    # Max concurrent TCP connections per IP
    haproxy.router.openshift.io/rate-limit-connections.concurrent-tcp: "10"
    # Max HTTP requests per second per IP
    haproxy.router.openshift.io/rate-limit-connections.rate-http: "20"
    # Max TCP connections per second per IP
    haproxy.router.openshift.io/rate-limit-connections.rate-tcp: "50"
    # Disable sticky sessions for better rate limiting
    haproxy.router.openshift.io/disable_cookies: "true"
  # TLS certificate configuration for custom domain
  tls:
    certificate: "" # Server certificate (PEM format)
    key: "" # Private key (PEM format)
    caCertificate: "" # CA certificate chain (intermediates concatenated, PEM format)

# Horizontal Pod Autoscaler configuration
autoscaling:
  enabled: false
  minReplicas: 1
  maxReplicas: 3
  targetCPUUtilizationPercentage: 80

# Pod Disruption Budget
podDisruptionBudget:
  enabled: false
  minAvailable: 1

nodeSelector: {}

tolerations: []

affinity: {}

# Config for the frontend (API endpoints, etc.)
config:
  BACKEND_URL: "http://cheque-verification-backend:80"
